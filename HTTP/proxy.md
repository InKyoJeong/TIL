## 프록시

```
         -- GET/HTTP/1.1 -->              -- GET/HTTP/1.1 -->
(클라이언트)                       (프록시서버)                     (오리진서버)
         <-- HTTP/1.1 200 OK --           <-- HTTP/1.1 200 OK --
```

- 서버와 클라이언트 양쪽 역할을 하는 중계 프로그램
- 클라이언트로부터 받은 리퀘스트를 다른 서버에 전송
- 오리진서버 (리소스본체를 가진 서버)로부터 온 리스폰스는 서버를 경유해서 클라이언트에 되돌아옴
- HTTP통신 시 프록시 서버를 여러대 경유도 가능
  - Via헤더필드에 경유한 호스트 정보를 추가해야함

#### 프록시 서버 사용 이유

- 캐시를 사용해서 네트워크대역을 효율적으로 사용
- 조직내에서 특정 웹사이트에대한 액세스 제한 등

<br>

## 게이트웨이

```
         -- HTTP 리퀘스트 -->
(클라이언트)                       (게이트웨이)                     (HTTP 이외의 서버)
         <-- HTTP 리스폰스 --
```

- 다른서버를 중계하는 서버
- 클라이언트의 리퀘스트를 리소스를 보유한 서버인것처럼 수신함
- 동작은 프록시와 유사. 클라와 게이트웨이사이를 암호화하는등 통신의 안전성을 높임
  - ex) DB에 접속해 SQL쿼리를 이용, 쇼핑몰에서 결제시스템과 연계 등

<br>

## 터널

- 다른 서버와 통신 경로를 확립
- SSL같은 암호화 통신을통해 서버와 통신하기위해 사용

<br>

## 캐시

- **프록시 서버**와 **클라이언트의 로컬디스크**에 보관된 **리소스 사본**
- 리소스를가진 서버에 액세스를 줄일수 있어서 통신량/시간 절약
- 캐시를 이용하여 같은 데이터를 계속 오리진 서버로 전송할 필요가 없음

```
         -- GET/index.html HTTP/1.1 -->              -- GET/index.html HTTP/1.1 -->
(클라이언트)                       (캐시 서버)                     (오리진서버)
                <---   리스폰스 전송시 리소스사본을 캐시서버에 남김   <---
```

#### 캐시 유효기간

- 리소스가 갱신되는 경우 캐시서버가 오래된 리소스를 그대로보냄
- 따라서 오리진 서버에 리소스의 유효성을 확인하거나 새로 리소스를 획득하는 경우가있음

#### 클라이언트의 캐시

- 클라이언트의 브라우저에도 캐시가 있음 (인터넷 임시 파일)
- 브라우저가 유효한 캐시를 가진경우, 같은 리소스의 액세스는 서버에 액세스하지않고 로컬디스크에서 불러옴
- 캐시 서버와 같이, 오리진서버에 유효성 확인이나 새로 획득하기도한다.
