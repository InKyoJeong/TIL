## Data Type(데이터 타입)

#### Primitive Type(기본형)

- Number, String, Boolean, null, undefined

#### Reference Type(참조형)

- Object
  - Array, Function, RegExp

<br>

### 이 들을 구분하는 이유와 차이

#### 기본형 타입의 메모리 흐름

```js
var a;
a = "abc";
```

```
주소  ... 1002    1003    1004 ...
데이터            이름:a
값:              @5004
```

변수가 선언되면 메모리안에 있는 데이터가 담길 공간을 확보. 확보한 공간의 이름을 `a`를 넣었다.

그다음 `abc`를 할당하면 또 다른 빈공간에 넣고
그 메모리에있는 주소값`(5004)`을 들고 `1003`으로 가서 그 값에 `5004`를 넣는다.

```
주소 ...  5004    5005 ...
        'abc'
```

다시 다른값을 할당하면 `1003`번으로가서 `5004`를 `5005`로 덮어쓴다.

```js
a = "abcdef";
```

```
주소    ... 5004    5005    ...
           'abc'   'abcdef'
```

```
주소    ... 1002   1003   1004 ...
데이터              이름:a
값:                @5005
```

<br>

#### 참조형 타입의 경우

- 참조형은 동작이 조금 다름

```js
var obj = {
  a: 1,
  b: "bbb",
};
```

- `obj`를 먼저 선언 -> 공간을 확보하고 식별자 이름에 obj를 넣음

```
주소    ... 1002    1003    1004 ...
데이터      이름:obj
           값:
```

- 할당을 할때는 `5002`에 메모리 공간상 객체 전체가 아닌 하나씩 들어간다 -> `7103`이후부터 공간확보하고 데이터를 하나씩넣는다.

```
주소    ... 5002    5003    5004...
데이터      @7103~    1     'bbb'
```

- `1`을 `5003`에 넣고 , `'bbb'`를 `5004`번에 넣고 그 주소를 들고 a가 확보된 `7103`, b가 확보된 `7104`에 넣음

```
주소  ...  7103     7104    7105...
데이터     이름:a     이름:b
          값:@5003  값:@5004
```

- 이제 객체 값이 다 할당되면 `5002`번의 주소를 `obj`에 넣음

```
주소 ...  1002   1003    1004 ...
데이터    이름:obj
         값:@5002
```

<br>

- 이제 만약 `a` 프로퍼티를 `2`로 바꾸면

```js
var obj = {
  a: 1,
  b: "bbb",
};

obj.a = 2;
```

- `obj(1002)`번 찾아가고 > `5002` > `7103` > `a`의 값을 `2`로 대체해야하므로 `5005`번에 `2`를 넣고 그주소`(5005)`를 들고 `7103`의 값에 대체

```
주소 ...   5002     5003    5004    5005...
데이터      @7103~    1     'bbb'    2
```

```
주소 ...   7103     7104     7105...
데이터      이름:a    이름:b
          값:@5005  값:@5004
```

- 객체의 경우 obj의 프로퍼티 값을 변경을 해도 `1002`의 `obj`값의 주소는 변하지 않음

```
주소 ...    1002     1003    1004 ...
데이터      이름:obj
값:        @5002
```

<br>

### 복사

```js
var a = 10;
var b = a;
var obj1 = { c: 10, d: "ddd" };
var obj2 = obj1;
```

- 기본형은 이렇게 복사를해도 가리키는 주소를 그대로 가져오니까 같은 주소를 본다.

```
주소    ... 1002     1003      1004     1005 ...
데이터      이름:a     이름:b
          값:@5002   값: @5002
```

```
주소    ... 5002     5003      5004     5005 ...
데이터       10
```

<br>

이상태에서 `b=15`로 바꾸면

```js
var a = 10;
var b = a;
var obj1 = { c: 10, d: "ddd" };
var obj2 = obj1;

b = 15;
obj2.c = 20;
```

```
주소    ... 1002     1003       1004     1005 ...
데이터      이름:a     이름:b       obj1     obj2
          값:@5002   값: @5004   @5003    @5003
```

```
주소    ... 5002     5003      5004     5005 ...
데이터       10       @7103~?   15
```

`5004`에 `15`확보하고 `b`에 넣어서 `1002`와 `1003`은 값이 `5002 5004`로 달라짐

<br>

이번에는 `obj2.c = 20`으로 바꾸면

```
주소    ... 5002     5003      5004     5005 ...
데이터       10       @7103~?   15       20
```

```
주소    ... 7103     7104      7105     7106 ...
데이터      이름:c     이름:d
           값:@5005  값:@5004
```

여기서 c값을 바꾼다. 5005로 바뀜.

기본형은 바뀌었지만 참조형은 바뀌지않았음

```
주소    ... 1002     1003        1004     1005 ...
데이터      이름:a     이름:b       obj1      obj2
          값:@5002   값: @5004   값:@5003   값:@5003
```

- 참조형 데이터의 내부 값을 바꿔도 둘이 같은 객체를 계속 바라보고 있음
- 객체를 복사를 해서 바꿨는데 원본 데이터가 같이 바뀌는 문제 -> 해결: 매번 새로운 객체 만든다, 불변성, ...

<br>

#### 정리

```js
var a = 10;
var b = a;

b = 15;

a; //10
b; //15
```

```js
var obj1 = { c: 10, d: "ddd" };
var obj2 = obj1;

obj2.c = 20;

obj1; //{c: 20, d: "ddd"}
obj2; //{c: 20, d: "ddd"}
```
