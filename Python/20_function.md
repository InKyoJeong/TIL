# 함수

> 호출, 위치인수와 리스프 언패킹, 키워드 인수, 매개변수

## 1. 함수 사용하기

- 파이썬은 함수(function)이라는 기능을 제공하는데 특정 용도의 코드를 한 곳에 모아 놓은 것
- 한번만 작성해 높으면 나중에 계속 불러 쓸 수 있다.
- 지금까지 사용했던 `print, input`등도 파이썬에서 모두 미리 만들어둔 함수이다.
- 함수를 사용하면 좋은점
  1. 코드의 용도를 구분할 수 있다.
  2. 코드를 재사용할 수 있다.
  3. 실수를 줄일 수 있다.

## Hello world 출력 함수 만들기

- 함수는 `def`에 함수 이름을 지정하고 `()`와 `:`을 붙인 뒤 다음 줄에 원하는 코드를 작성
- 이때 코드는 반드시 들여쓰기를 해야함

```py
def 함수이름():
    코드
```

- def는 정의하다(define)에서 따온 키워드

### 함수 만들기

```py
>>> def hello():
    	print('Hello world')

>>> hello()
# Hello world
```

- 함수를 먼저 호출한 뒤 함수를 만들 수는 없다.

```
hello()

def hello():
  	print('Hello world')
```

## 덧셈 함수 만들기

- 함수에서 값을 받으려면 `()`안에 변수 이름을 지정해주면 된다.
- 이 변수를 `매개변수(parameter)`라고 부른다.

```py
>>> def add(a, b):
    	print(a + b)

>>> add(10, 20)
# 30
```

## 함수의 결과를 반환하기

- 함수 안에서 `return`을 사용하면 값을 함수 바깥으로 반환한다.

```py
def 함수이름(매개변수):
    return 반환값
```

```py
>>> def add(a, b):
    	return a+b

>>> x = add(10, 20)
>>> x
# 30
```

## 함수에서 값을 여러 개 반환하기

- 함수에서 값을 여러 개 반환할때는 `return`에 값이나 변수를 `,`로 구분해서 지정한다.

```py
def 함수이름(매개변수):
    return 반환값1, 반환값2
```

```py
>>> def add_sub(a, b):
    	return a + b, a - b

>>> x, y = add_sub(10, 20)
>>> x
# 30
>>> y
# -10
```

- `add_sub`의 결과를 변수 한 개에 저장해서 출력해보면 튜플이 반환되는 것을 볼 수 있다.

```py
>>> x = add_sub(10,20)
>>> x
# (30, -10)
```

- 즉, 튜플이 변수 여러 개에 할당되는 특성을 이용하는 것이다.(언패킹)

## 함수의 호출 과정 알아보기

- 함수 여러 개를 만든 뒤에 각 함수의 호출 과정을 `스택 다이어그램(stack diagram)`이라고 한다.
- 스택은 접시 쌓기와 같다. 차곡차곡 쌓고 꺼낼 때는 위쪽부터 차례대로 꺼내는 방식이다. 중간에 있는 접시는 뺄 수 없다.
- 파이썬에서는 접시 쌓기와 방향이 반대이다. 함수가 아래쪽 방향으로 추가되고 함수가 끝나면 위쪽 방향으로 사라진다.

```py
def mul(a, b):
    c = a * b
    return c

def add(a, b):
    c = a + b
    print(c)
    d = mul(a, b)
    print(d)

x = 10
y = 20
add(x, y)

# 실행결과
# 30
# 200
```

- 프레임이란 메모리에서 함수와 함수에 속한 변수가 저장되는 독립적인 공간이다.
- 전역 프레임은 파이썬 스크립트 전체에서 접근할 수 있어서 전역프레임이라고 부른다.
- 함수 `add`를 호출한 뒤 안으로 들어가서 `print(c)`까지 실행
- 함수 `add`의 스택 프레임이 만들어지고 매개변수 `a`와 `b` 그리고 변수 `c`가 들어감

전역프레임
| mul | |
| ------- |---|
| **add** | |
| **x** | 10 |
| **y** | 20 |

<br>

add - 스택프레임
| a | 10|
| ------- |---|
| **b** | 20|
| **c** | 30 |

<br>

mul - 스택프레임
| a | 10|
| ------- |---|
| **b** | 20|
| **c** | 200 |

<br>

add - 스택프레임
| a | 10|
| ------- |---|
| **b** | 20|
| **c** | 30 |
| **d** | 200 |

- 함수는 스택 방식으로 호출된다.
- 프레임은 스택 안에 있어서 각 프레임을 스택 프레임이라고 부른다.
- 전역 프레임은 스크립트 파일의 실행이 끝나면 사라짐

<br>

## 2. 위치 인수와 리스트 언패킹 사용하기

- 함수에 인수를 순서대로 넣는 방식을 위치 인수(positional argument)라고 한다.
- 즉, 인수의 위치가 정해져 있다.

```
>>> print(10, 20, 30)
10 20 30
```

### 위치 인수를 사용하는 함수를 만들고 호출하기

```py

>>> def print_numbers(a, b, c):
        print(a)
        print(b)
        print(c)

>>> print_numbers(11, 22, 33)
# 11
# 22
# 33
```

### 언패킹 사용하기

- 인수를 순서대로 넣을 때는 리스트나 튜플을 사용할 수도 있다.
- 리스트 또는 튜플 앞에 `*(애스터리스크)`를 붙여 함수에 넣어주면 된다.
- `함수(*리스트)`
- `함수(*튜플)`

```py
>>> x = [10, 20, 30]
>>> print_numbers(*x)
# 10
# 20
# 30
```

- 리스트(튜플)앞에 `*`를 붙이면 언패킹이 되어서 같은 동작이 된다.

### 가변 인수 함수 만들기

- 위치 인수와 리스트 언패킹은 인수의 개수가 정해지지 않은 가변 인수(variable argument)에 사용한다.

```py
def 함수이름(*매개변수):
    코드
```

```py
>>> def print_numbers(*args):
        for arg in args:
            print(arg)

# 넣은 개수 만큼 출력된다.
>>> print_numbers(10)
# 10
>>> print_numbers(1,2,3,4,5)
# 1
# 2
# 3
# 4
# 5

# 리스트(튜플) 언패킹을 사용해도 된다.
>>> x = [11,22,33,44,55]
>>> print_numbers(*x)
11
22
33
44
55
```

<br>

## 3. 키워드 인수 사용하기

```py
>>> def person_info(name, age, address):
        print('이름: ', name)
        print('나이: ', age)
        print('주소: ', address)

```

- 파이썬에서는 인수의 순서와 용도를 매번 기억하지 않도록 `키워드인수(keyword argument)`라는 기능을 제공한다.
- `함수(키워드=값)`

`person_info`함수를 키워드 인수 방식으로 호출해보자.

```py
>>> person_info(name='MAC', age='2018', address='애플')
이름: MAC
나이: 2018
주소: 애플
```

- 키워드 인수를 사용하면 인수의 순서를 맞추지않아도 키워드에 해당하는 값이 들어간다.

## 키워드 인수와 딕셔너리 언패킹 사용하기

- 딕셔너리 앞에 `**(애스터리스크 두개)`를 붙여 함수에 넣어준다.

```py
>>> def person_info(name, age, address):
        print('이름: ', name)
        print('나이: ', age)
        print('주소: ', address)

```

```py
>>> x = {'name': '홍길동', 'age': 30, 'address': '서울동작구'}
>>> personal_info(**x)

# 이름: 홍길동
# 나이: 30
# 주소: 서울동작구
```

- 딕셔너리 언패킹을 사용할 때는 함수의 매개변수 이름과 딕셔너리 키 이름이 같아야함
- `**`처럼 두번사용하는 이유는 딕셔너리는 키-값 쌍 형태로 저장되어 있기 때문이다.
- `*`한 번만 사용하면 딕셔너리를 한 번 언패킹, 키를 사용한다는 뜻이다.
- 따라서 두번사용하여 딕셔너리를 두 번 언패킹하여 값을 사용하도록 만들어야 한다.

### 키워드 인수를 사용하는 가변 인수 함수 만들기

```py
def 함수이름(**매개변수):
    코드
```

```py
>>> def personal_info(**kwargs):
        for kw, arg in kwargs.items():
            print(kw, ': ', arg, sep='')
...
```

<br>

## 4. 매개변수에 초깃값 지정하기

```py

def 함수이름(매개변수=값):
    코드
```

- 매개변수의 초깃값은 주로 사용하는 값이 있으면서 가끔 다른 값을 사용해야 할 때 활용

```py
>>> def personal_info(name, age, address='비공개'):
        print('이름: ', name)
        print('나이: ', age)
        print('주소: ', address)
...
```

```py
>>> personal_info('홍길동', 30)
# 이름: 홍길동
# 나이: 30
# 주소: 비공개

>>> personal_info('홍길동', 30, '서울시동작구')
이름: 홍길동
나이: 30
주소: 서울시동작구
```

- 초깃값이 지정된 매개변수 다음에는 초깃값이 없는 매개변수가 올 수 없다.

  - ex) `def personal_info(name, address='비공개', age):`

- 따라서 초깃값이 지정된 매개변수는 뒤쪽에 몰아주면 된다.
