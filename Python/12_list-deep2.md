# 리스트 응용(2) - 리스트표현식, map

## 리스트 표현식 사용하기

- 파이썬의 리스트가 특이한 점은 리스트안에 for반복문과 if조건문을 사용할 수 있다는 점이다.
- 리스트안에 식, for, if문 등을 지정하여 리스트 생성하는 것을 `리스트 컴프리헨션(list comprehension`이라고 한다.
- 책이나 인터넷에서도 `리스트 내포, 리스트 내장, 리스트 축약, 리스트 해석`등으로 쓴다.
- `[식 for 변수 in 리스트]`
- `list(식 for 변수 in 리스트)`

```py
>>> a = [i for i in range(10)]
>>> a
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> b = list(i for i in range(10))
>>> b
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

```py
>>> c = [i + 5 for i in range(10)]
>>> c
[5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
```

### 리스트 표현식에서 if 조건문 사용하기

- if 조건문은 for 반복문 뒤에 지정함
- `[식 for 변수 in 리스트 if 조건식]`
- `list(식 for 변수 in 리스트 if 조건식)`

```py
# 0~9중 2의배수를 리스트로 생성하는 예제

>>> a = [i for i in range(10) if i % 2 == 0]
>>> a
[0, 2, 4, 6, 8]
```

### for 반복문과 if 조건문을 여러 번 사용하기

`[식 for 변수1 in 리스트1 if 조건식1 for 변수2 in 리스트2 if 조건식2 ...]`

- 2단부터 9단까지 구구단을 리스트로 생성하기

```py
>>> a = [i * j for j in range(2, 10) for i in range(1, 10)]
>>> a
[2, 4, 6, 8, 10, 12, 14, 16, 18, 3, 6, 9, 12, 15, 18, 21, 24, 27, 4, 8, 12, 16, 20, 24, 28, 32, 36, 5, 10, 15, 20, 25, 30, 35, 40, 45, 6, 12, 18, 24, 30, 36, 42, 48, 54, 7, 14, 21, 28, 35, 42, 49, 56, 63, 8, 16, 24, 32, 40, 48, 56, 64, 72, 9, 18, 27, 36, 45, 54, 63, 72, 81]
```

<br>

- 가독성을 위해 들여쓰기를 해주는 것이 좋다.

```py
>>> a = [i * j for j in range(2, 10)
               for i in range(1,10)]
```

리스트 표현식에 `for`가 여러 개일때 처리 순서는 뒤에서 앞으로 순이다.

<br>

## 리스트에 map 사용하기

- `map`은 리스트의 요소를 지정된 함수로 처리해주는 함수이다. (원본리스트를 변경하지않고 새 리스트 생성)
- `list(map(함수, 리스트))`
- `tuple(map(함수, 튜플))`

```py
>>> a = [1.4, 1.8, 41.4, 99.7]
>>> for i in range(len(a)):
    	a[i] = int(a[i])


>>> a
[1, 1, 41, 99]
```

위와같이 `for` 반복문으로 반복하면서 요소를 변환하기는 번거로우니 `map`을 사용하면 편리하다.

```py
>>> a = [1.4, 1.8, 41.4, 99.7]
>>> a = list(map(int, a))
>>> a
[1, 1, 41, 99]
```

```py
# 0~9숫자를 문자열로 반환하기

>>> b = list(map(str, range(10)))
>>> b
['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']
```

### input().split() 과 map

- `input().split()`을 사용하고 변수에 저장해보면 리스트인지 확인할 수 있다.

```py
>>> a = input().split()
10 20
>>> a
['10', '20']
```

- 이제 `map`을 사용해서 정수로 변환해보자.

```py
>>> a = map(int, input().split())
10 20
>>> a
<map object at 0x1063cb7d0>
>>> list(a)
[10, 20]
```
