# 문자열 조작하기, 서식 지정자와 포매팅

## 문자열 조작하기

- 문자열은 문자열을 조작하거나 정보를 얻는 다양한 메서드(method)를 제공

## 문자열 바꾸기

- `replace('바꿀문자열', '새 문자열')`은 문자열 안의 문자열을 다른 문자열로 바꿈
- 문자열 자체는 변경하지 않으며 바뀐 결과를 반환

```py
>>> 'Hello, world'.replace('world', 'YouTube')
'Hello, YouTube'
```

<br>

- 바뀐 결과를 유지하려면 **문자열이 저장된 변수에** `replace`를 사용

```py
>>> say = 'Hello, world'
>>> say = say.replace('world', 'YouTube')
>>> say
'Hello, YouTube'
```

## 문자 바꾸기

- `translate`는 문자열 안의 문자를 다른 문자로 바꾼다.
- 먼저 `str.makertrans('바꿀문자', '새 문자')`로 변환 테이블을 만든다.
- 그다음 `translate(테이블)`을 사용하면 문자를 바꾼 뒤 결과를 반환한다.

```py
>>> table = str.maketrans('aeiou', '12345')
>>> 'apple'.translate(table)
'1ppl2'
```

문자열 'apple'에서 a를 1로, e를 2로, i를 3으로, o를 4로, u를 5로 바꿨다. p는 해당없으므로 그대로 출력된다.

## 문자열 분리하기

- `split()`은 공백을 기준으로 문자열을 분리하여 리스트를 만든다.

```py
>>> 'abc apple mac os'.split()
['abc', 'apple', 'mac', 'os']
```

- `split('기준 문자열')`같이 기준 문자열을 지정하면 해당문자열로 문자열을 분리한다.

```py
>>> 'abc,apple,mac,os'.split(',')
['abc', 'apple', 'mac', 'os']
```

## 문자열 리스트 연결하기

> `join(리스트)`는 구분자 문자열과 문자열 리스트의 요소를 연결하여 문자열로 만든다.

- 공백 `' '`에 `join`을 사용하여 각 문자열 사이에 공백이 들어가게 만들기

```py
>>> ' '.join(['abc', 'apple', 'mac', 'os'])
'abc apple mac os'
```

- 마이너스 `'-'`에 `join`을 사용하여 각 문자열 사이에 마이너스가 들어가게 만들기

```py
>>> '-'.join(['abc', 'apple', 'mac', 'os'])
'abc-apple-mac-os'
```

## 소문자를 대문자로 바꾸기

- `upper()`는 문자열의 문자를 모두 대문자로 바꾼다.

```py
>>> 'hello'.upper()
'HELLO'
```

## 대문자를 소문자로 바꾸기

- `lower()`은 문자열의 문자를 모두 소문자로 바꾼다.

```py
>>> 'HELLO'.lower()
'hello'
```

## 공백 삭제하기

1. `lstrip()`은 문자열의 왼쪽에 있는 연속된 모든 공백 삭제

```py
>>> '    Hello  '.lstrip()
'Hello  '
```

2. `rstrip()`은 문자열의 오른쪽에 있는 연속된 모든 공백 삭제
3. `strip()`은 문자열에서 양쪽에 있는 연속된 모든 공백 삭제

### 왼쪽/오른쪽/양쪽의 특정 문자 삭제하기

- `lstrip('삭제할 문자들')`
- `rstrip('삭제할 문자들')`
- `strip('삭제할 문자들')`

```py
>>> ',  python.'.lstrip(',')
'  python.'

>>> ', python.'.rstrip('.')
', python'
```

## 문자열을 정렬하기

- `ljust(길이)`는 문자열을 지정된 길이로 만든 뒤 왼쪽으로 정렬하며 남는 공간을 공백으로 채움

```py
>>> 'python'.ljust(10)
'python    '
```

- `rjust(길이)`는 오른쪽
- `center(길이)`는 문자열을 지정된 길이로 만든 뒤 가운데정렬, 남는공간은 공백으로

```py
>>> 'python'.center(11)
'   python  '
```

남는공간이 홀수면 왼쪽에 공백이 한 칸 더 들어간다.

### 메서드 체이닝

> 메서드 체이닝은 메서드를 줄줄이 연결한다고 해서 메서드 체이닝(method chaining)이라고 부른다.

- 문자열을 오른쪽으로 정렬한 뒤 대문자로 바꾸기

```py
>>> 'python'.rjust(10).upper()
'    PYTHON'
```

### 문자열 왼쪽에 0 채우기

- `zfill(길이)`는 지정된 길이에 맞춰 문자열왼쪽에 0을 채운다.(zero fill)

```py
>>> '35'.zfill(4)
'0035'
```

## 문자열 위치 찾기 - find

- `find('찾을 문자열')`은 문자열에서 특정 문자열을 찾아 인덱스를 반환하고, 문자열이 없으면 `-1`을 반환함
- `find`는 왼쪽에서부터 문자열을 찾는데, 같은문자열이 여러 개일 경우 처음 찾은 문자열의 인덱스 반환함

```py
>>> 'apple mac'.find('pl')
2
>>> 'apple mac'.find('xy')
-1
```

### 오른쪽에서부터 문자열 위치 찾기

- `rfind('찾을 문자열')`은 오른쪽에서부터 특정 문자열을 찾아 인덱스 반환, 문자열이 없으면 `-1`반환

## 문자열 위치 찾기 - index

- `index('찾을 문자열')`은 왼쪽에서부터 특정 문자열을 찾아 인덱스를 반환한다.
- 단, 문자열이 없으면 에러를 발생시킴
- `index`도 같은 문자열이 여러 개면 처음 찾은 문자열의 인덱스를 반환한다.

```py
>>> 'apple mac'.index('pl')
2
```

### 오른쪽에서부터 문자열 위치 찾기

- `rindex('찾을 문자열')`

## 문자열 개수 세기

- `count('문자열')`은 현재 문자열에서 특정 문자열이 몇번 나오는지 알아낸다.

```py
>>> 'apple'.count('pl')
1
```

<br>

## 문자열의 서식 지정자와 포매팅 사용하기

- 문자열 안에서 **특정 부분**을 원하는 값으로 바꿀 때 서식 지정자 또는 문자열 포매팅을 사용함

### 서식 지정자로 문자열 넣기

- `%s % '문자열'`

```py
>>> 'I am %s.' % 'Mary'
'I am Mary.'
```

- 문자열을 바로 지정하지 않고 변수를 지정할 수도 있다.

```py
>>> name = 'Mary'
>>> 'I am %s.' % name
'I am Mary.'
```

### 서식 지정자로 숫자 넣기

- `%d % 숫자`

```py
>>> 'I am %d years old.' % 20
'I am 20 years old.'
```

### 서식 지정자로 소수점 표현하기

- `%f % 숫자`

```py
>>> '%.2f' % 2.4
'2.40'
```

### 서식 지정자로 문자열 정렬하기

- `%`뒤에 숫자를 붙이면 문자열을 지정된 길이로 만든 뒤 오른쪽으로 정렬하고 남는 공간을 공백으로 채움
- `%길이s`

```py
>>> '%10s' % 'python'
'    python'
```

- 왼쪽 정렬은 문자열 길이에 `-`를 붙이면 된다.

```py
>>> '%-10s' % 'python'
'python    '
```

### 서식 지정자로 문자열 안에 값 여러개 넣기

- `'%d %s' % (숫자, '문자열')`

```py
>>> 'Today is %d %s.' % (13, 'April')
'Today is 13 April.'
```

<br>

### format 메서드 사용하기

- 파이썬은 문자열을 만들때 서식 지정자 방식보다 더 간단한 문자열 포매팅(string formatting)을 제공함
- `'{인덱스}'.format(값)`

```py
>>> 'Hello, {0}'.format('world')
'Hello, world'
```

### format 메서드로 값을 여러 개 넣기

```py
>>> 'Hello, {0} {2} {1}'.format('Python', 'Script', 3.7)
'Hello, Python 3.7 Script'
```

- 만약 `{}`에서 인덱스를 생략하면 `format`에 지정한 순서대로 값이 들어간다.

### format 메서드에서 인덱스 대신 이름 지정하기

- `{}`에 인덱스 대신 이름을 지정할 수도 있다.

```py
>>> 'Hello, {language} {version}'.format(language='Python', version=3.7)
'Hello, Python 3.7'
```

### 문자열 포매팅에 변수를 그대로 사용하기

```py
>>> language = 'Python'
>>> version = 3.7
>>> f'Hello, {language} {version}'
'Hello, Python 3.7'
```

### format 메서드로 문자열 정렬하기

- 인덱스 뒤에 `:`을 붙이고 정렬할 방향과 길이를 지정해준다.
- `'{인덱스:<길이}'.format(값)`

```py
>>> '{0:<10}'.format('Python')
'Python    '
```

(`>`을 넣으면 오른쪽으로 정렬한다.)

### 숫자 개수 맞추기

- `{}`을 사용할 때는 인덱스나 이름뒤에 `:`을 붙이고 `0`과 숫자 개수를 지정
- `'%0개수d' % 숫자`
- `'{인덱스:0개수d}'.format(숫자)`

```py
>>> '%03d' % 1
'001'
>>> '{0:03d}'.format(35)
'035'

>>> '%08.2f' % 3.6
'00003.60'
>>> '{0:08.2f}'.format(150.37)
'00150.37'
```

### 채우기와 정렬 조합해서 사용하기

```py
>>> '{0:0<10}'.format(15)
'1500000000'
>>> '{0:0>10.2f}'.format(15)
'0000015.00'
```

- 채우기 부분에 공백을 넣어도 되고 문자를 넣어도 된다.

```py
>>> '{0:x>10}'.format(15)
'xxxxxxxx15'
```
