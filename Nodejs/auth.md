## 암호화, 해쉬

- 비밀번호를 DB에 그대로 저장하지 않음
- 비밀번호의 해쉬를 저장함
- 비밀번호가 들어오면 hashing function을 통해 출력한 것과 저장된 해쉬값을 같은지 비교
- hash function은 반대로 할 수 없음 (one-way function)

<br>

### 단방향 함수 문제

- SHA-256같은 해시 함수를 사용해 패스워드를 암호화해 저장하고 값을 비교하는 것의 문제점 두 가지가 있음

#### 인식 가능성

- 동일한 메시지가 언제나 동일한 다이제스트를 갖는다면, 공격자가 전처리(pre-computing)된 다이제스트를 가능한 한 많이 확보한 다음 이를 탈취한 다이제스트와 비교해 원본 메시지를 찾아내거나 동일한 효과의 메시지를 찾을 수 있음

#### 속도

- 해시 함수는 암호학에서 널리 사용되지만, 원래 패스워드 저장이 아닌 짧은 시간에 데이터 검색을 위해 설계됨
- 여기에서 문제 발생함 : 해시 함수의 빠른 처리 속도로 인해 공격자는 빠른 속도로 임의의 문자열의 다이제스트와 해킹 대상의 다이제이스트를 비교 가능

<br>

### 단방향 함수 보완

#### 솔팅(salting)

- **솔팅(salting)** : 원본 메시지에 문자열을 추가하여 다이제스를 생성하는 것
  - 솔트(salt) : 단방향 해시 함수에서 다이제스트를 생성할 때 추가되는 바이트 단위의 임의의 문자열
  - 메세지(message) : Hash 함수를 통과 하기전의 원본 데이터
  - 다이제스트(digest) : 통과된 이후의 데이터

#### 키 스트레칭(key stretching)

- 입력한 패스워드의 다이제스트를 생성하고, 생성된 다이제스트를 입력 값으로 하여 다이제스트를 생성하고, 또 이를 반복하는 방법으로 다이제스트를 생성할 수 있음
- 이렇게 하면 입력한 패스워드를 동일한 횟수만큼 해시해야만 입력한 패스워드의 일치 여부를 확인할 수 있음. 이것이 기본적인 키 스트레칭 과정

<!-- https://d2.naver.com/helloworld/318732 -->
<!-- https://www.udemy.com/course/the-web-developer-bootcamp/learn/lecture/22346168#questions -->
